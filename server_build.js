!function(e){function n(t){if(o[t])return o[t].exports;var i=o[t]={exports:{},id:t,loaded:!1};return e[t].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var o={};return n.m=e,n.c=o,n.p="/build/",n(0)}([function(e,n,o){e.exports=o(11)},function(e,n,o){var t=o(4);e.exports=new t},function(e,n){e.exports=require("fs")},function(e,n){e.exports=require("path")},function(e,n){e.exports=require("memory-fs")},function(e,n){e.exports=require("recursive-readdir")},function(e,n,o){(function(n){var t=o(14),i=o(17),s=t(),r=o(1),a=o(9),c=o(2),u=o(3),l=o(13),d=o(12),p=o(10),f={},h=o(8),m=o(7),g="production"===process.env.NODE_ENV;h(["process","esprima","react","react-dom"]),m(["babel-loader","style-loader","css-loader"]),r.mkdirpSync(u.join("/","api","sandbox")),s.use(l()),s.use(d.json()),s.use(function(e,n,o){if(e.cookies.codebox&&p.get(e.cookies.codebox))e.session=p.get(e.cookies.codebox);else{var t=String(Date.now());e.session=p.set(t),n.cookie("codebox",String(t),{expires:0,domain:g?"webpackbin.herokuapp.com":".codebox.dev",httpOnly:!0})}o()}),console.log("Setting static to ",u.resolve("public")),s.use(t["static"](u.resolve("public"))),s.get("/",function(e,n){n.send(c.readFileSync(u.resolve("index.html")).toString().replace("/build/bundle.js","/client_build.js"))}),s.get("/api/sandbox/",function(e,n){n.type("html"),n.send('<!DOCTYPE html><html><body><div id="app"></div><script src="/api/sandbox/'+e.session.id+'/dist/bundle.js"></script></body></html>')}),s.get("/api/sandbox/*",function(e,n,o){f[e.session.id]?(console.log("Compiling"),e.session.compiler.run(function(t){t&&console.log(t),f[e.session.id](e,n,o)})):(console.log("creating middleware"),f[e.session.id]=a(e.session.compiler,{publicPath:u.join("/","api","sandbox",e.session.id,"dist"),stats:{colors:!0,hash:!1,timings:!0,chunks:!0,chunkModules:!1,modules:!1}}),f[e.session.id](e,n,o))}),s.post("/api/sandbox",function(e,o){if(e.session.compiler||(r.mkdirpSync(u.join("/","api","sandbox",e.session.id)),r.mkdirpSync(u.join("/","api","sandbox",e.session.id,"dist"))),e.body.files.forEach(function(n){r.writeFileSync(u.join("/","api","sandbox",e.session.id,n.name),n.content||" ")}),!e.session.compiler){console.log("Creating compiler");var t=i({context:"/",devtool:"cheap-eval-source-map",entry:u.join("/","api","sandbox",e.session.id,"main.js"),output:{path:u.join("/","api","sandbox",e.session.id,"dist"),filename:"bundle.js"},resolveLoader:{root:u.resolve(n,"..","node_modules")},resolve:{root:u.join("/","node_modules")},module:{loaders:[{test:/\.css?$/,loader:"style!css?modules&localIdentName=[name]---[local]---[hash:base64:5]"},{test:/\.js?$/,exclude:/node_modules/,loader:"babel",query:{presets:["react","es2015","stage-0"]}}]}});t.inputFileSystem=r,t.resolvers.normal.fileSystem=t.inputFileSystem,t.resolvers.context.fileSystem=t.inputFileSystem,p.update(e.session.id,"compiler",t)}o.send({})});var x=["red","blue","green","yellow","purple"];s.get("/api/randomcolor",function(e,n){n.send({color:x[Math.floor(Math.random()*(x.length-1))]})}),e.exports=s}).call(n,"/Users/christianalfoni/Development/webpack-bin/server")},function(e,n,o){var t=o(1),i=o(3),s=o(2),r=o(5),a=[],c=function(e){a.indexOf(e)>=0||(a.push(e),setTimeout(function(){var n=i.resolve("node_modules",e),o=JSON.parse(s.readFileSync(i.join(n,"package.json")).toString());r(n,function(e,n){n.forEach(function(e){var n=e,o=n.split(i.sep).slice(1);if(o.reduce(function(e,n,s){return e+=i.sep+n,s<o.length-1&&!t.existsSync(e)&&t.mkdirpSync(e),e},""),i.extname(n)){var r=s.readFileSync(e,"utf8");t.writeFileSync(n,r||" ")}})}),Object.keys(o.dependencies||{}).forEach(c)}))};e.exports=function(e){e.forEach(c)}},function(e,n,o){var t=o(1),i=o(3),s=o(2),r=o(5),a=[],c=function(e){a.indexOf(e)>=0||(a.push(e),setTimeout(function(){var n=i.resolve("node_modules",e),o=JSON.parse(s.readFileSync(i.join(n,"package.json")).toString());r(n,function(n,o){o.forEach(function(n){var o="process"===e?n:n.replace(process.env.PWD,""),r=o.split(i.sep).slice(1);if(r.reduce(function(e,n,o){return e+=i.sep+n,o<r.length-1&&!t.existsSync(e)&&t.mkdirpSync(e),e},""),i.extname(o)){var a=s.readFileSync(n,"utf8");t.writeFileSync(o,a||" ")}})}),Object.keys(o.dependencies||{}).forEach(c)}))};e.exports=function(e){e.forEach(c)}},function(e,n,o){var t=o(4),i=o(16),s=/[0-9a-f]{10,}/;e.exports=function(e,n){function o(){!h||n.noInfo||n.quiet||console.info("webpack: bundle is now INVALID."),h=!1}function r(e,n){console.log("watch running!"),o(),n()}function a(e,o){return h?e():(n.noInfo||n.quiet||console.log("webpack: wait until bundle finished: "+o.url),void g.push(e))}function c(){h?(h=!1,e.run(function(e){if(e)throw e})):m=!0}function u(e,n){return"/"==e?"/"+n:(e||"")+"/"+n}function l(o){var t=n.publicPath||"/";if(0!==o.indexOf(t)){if(!/^(https?:)?\/\//.test(t))return!1;if(t="/"+t.replace(/^(https?:)?\/\/[^\/]+\//,""),0!==o.indexOf(t))return!1}var i=o.substr(t.length);return i.indexOf("?")>=0&&(i=i.substr(0,i.indexOf("?"))),i?u(e.outputPath,i):e.outputPath}function d(e,o,t){function r(){try{var e=f.statSync(d);if(!e.isFile()){if(!e.isDirectory())throw"next";if(d=u(d,"index.html"),e=f.statSync(d),!e.isFile())throw"next"}}catch(s){return console.log(s,d),t()}var r=f.readFileSync(d);if(o.setHeader("Access-Control-Allow-Origin","*"),o.setHeader("Content-Type",i.lookup(d)),o.setHeader("Content-Length",r.length),n.headers)for(var a in n.headers)o.setHeader(a,n.headers[a]);o.send?o.send(r):o.end(r)}var d=l(e.url);if(d===!1)return t();if(!n.lazy||n.filename&&!n.filename.test(d)||c(),s.test(d))try{if(f.statSync(d).isFile())return void r()}catch(p){}a(r,e)}if(n||(n={}),"undefined"==typeof n.watchOptions&&(n.watchOptions={}),"undefined"!=typeof n.watchDelay&&(console.warn("options.watchDelay is deprecated: Use 'options.watchOptions.aggregateTimeout' instead"),n.watchOptions.aggregateTimeout=n.watchDelay),"undefined"==typeof n.watchOptions.aggregateTimeout&&(n.watchOptions.aggregateTimeout=200),"undefined"==typeof n.stats&&(n.stats={}),n.stats.context||(n.stats.context=process.cwd()),n.lazy&&"string"==typeof n.filename){var p=n.filename.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\\\[[a-z]+\\\]/gi,".+");n.filename=new RegExp("^[/]{0,1}"+p+"$")}var f=e.outputFileSystem=new t;e.plugin("done",function(e){h=!0,process.nextTick(function(){if(h){var o=!n.quiet&&n.stats!==!1;o&&!e.hasErrors()&&!e.hasWarnings()&&n.noInfo&&(o=!1),o&&console.log(e.toString(n.stats)),n.noInfo||n.quiet||console.info("webpack: bundle is now VALID.");var t=g;g=[],t.forEach(function(e){e()})}}),m&&(m=!1,c())}),e.plugin("invalid",o),e.plugin("watch-run",r),e.plugin("run",r);var h=!1,m=!1,g=[];if(n.lazy)h=!0;else var x=e.watch(n.watchOptions,function(e){if(e)throw e});return d.getFilenameFromUrl=l,d.invalidate=function(){x&&x.invalidate()},d.close=function(e){e=e||function(){},x?x.close(e):e()},d.fileSystem=f,d}},function(e,n){var o={};e.exports={get:function(e){return o[e]},set:function(e){return o[e]={id:e},o[e]},update:function(e,n,t){return o[e][n]=t,o[e]}}},function(e,n,o){var t=o(6),i=o(15),s=i.createServer(t);s.listen("production"===process.env.NODE_ENV?process.env.PORT:4e3)},function(e,n){e.exports=require("body-parser")},function(e,n){e.exports=require("cookie-parser")},function(e,n){e.exports=require("express")},function(e,n){e.exports=require("http")},function(e,n){e.exports=require("mime")},function(e,n){e.exports=require("webpack")}]);